# envoyctl Workspace

This directory contains **configuration fragments** that are compiled into
a complete Envoy configuration by `envoyctl`.

## âœï¸ Edit These

```
config/
â”œâ”€â”€ common/           # Global settings (admin, defaults, runtime)
â”œâ”€â”€ domains/          # One file per domain (example.com.yaml)
â”œâ”€â”€ upstreams/        # One file per backend service
â””â”€â”€ policies/         # Rate limits, headers, retries, timeouts
```

## ğŸš« Don't Edit These

```
out/
â””â”€â”€ envoy.generated.yaml   # Auto-generated by envoyctl
```

## Quick Start

```bash
# 1. Validate your configuration
envoyctl validate --config-dir ./config --out-dir ./out

# 2. Apply configuration (installs + restarts Envoy)
envoyctl apply --config-dir ./config --out-dir ./out

# 3. Or just build without applying
envoyctl build --config-dir ./config --out-dir ./out
```

## Getting Started

1. Edit `config/domains/example.com.yaml` â†’ Set your domain name
2. Edit `config/upstreams/api_backend.yaml` â†’ Point to your backend
3. Run `envoyctl validate` â†’ Check for errors
4. Run `envoyctl apply` â†’ Deploy to Envoy

## Documentation

See the `docs/` folder in the envoyctl repository for:
- Architecture diagrams
- Configuration reference
- Data flow documentation
